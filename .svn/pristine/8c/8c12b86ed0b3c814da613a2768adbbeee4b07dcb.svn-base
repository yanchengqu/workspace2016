!function(e,t){var n={hideBar:function(){setTimeout(function(){e.scrollTo(0,1)},100)},bootSwiper:function(){new Swiper("#J_buySwiper",{pagination:".pagination",loop:!0,grabCursor:!0,paginationClickable:!0,calculateHeight:!0})},init:function(){this.hideBar(),this.bootSwiper()}};t(function(){n.init()})}(this,$),window.onload=function(){function e(e){return e.preventDefault(),!1}function t(e){return e?e.options[e.selectedIndex].text:void 0}function n(){var e={},t=v.getAttribute("data-value"),n=p.getAttribute("data-value"),a=d.getAttribute("data-value");return"0"!=t&&(e.pid=t,"0"!=n&&(e.cid=n,"0"!=a&&(e.aid=a))),e}function a(){var e=[t(v),t(p),t(d)].join(" "),n={province:v.value,city:p.value,region:d.value,regionName:e};$.ajax({url:"/mobile/region/setDefaultRegion.html",type:"post",data:n})}function i(e,t){var n={sku:s("sku").value,regionId:d.value,number:parseInt(g.val())};$.ajax({url:"/mobile/product/stock.html",type:"get",data:n,success:function(n){n=n instanceof Object?n:JSON.parse(n),n.success?e&&e(n):t&&t(n)},error:function(e){t&&t(e)}})}function r(e,t){j&&~~j.value&&(e=!0,t=null);var n=s("statuslb"),a=e?"有货":"无货";n.innerHTML=a,n.style.display=t?"none":"block",$("#submitBtn").toggleClass("Disabled",!e)}function o(e){var t=parseFloat($("#tx_price").val()),n=e*t,a=n.toFixed(2).split(".")[1],i=parseInt(n).toString(),o=i.split("").reverse().join("").replace(/(\d{3})/g,"$1,").replace(/\,$/,"").split("").reverse().join("");$("#pricelb").html("¥"+o+"."+a);var l=d.value;r(y>=e&&l&&"0"!=l)}function l(){var e=d.value;"0"==e&&r(!1,!0)}function u(e){var t=parseFloat(e),n=t.toFixed(2).split(".")[1],a=parseInt(t).toString(),i=a.split("").reverse().join("").replace(/(\d{3})/g,"$1,").replace(/\,$/,"").split("").reverse().join("");return"&yen;"+i+"."+n}function c(e){for(var t=document.querySelectorAll(e),n=0,a=t.length;a>n;n++){var i=t[n],r=i.getAttribute("data-value");if(r){var o=u(r);i.innerHTML=o}}}var s=function(e){return document.getElementById(e)},v=s("province_Sel"),p=s("city_sel"),d=s("area_sel"),b=$("#numberBar"),f=$(".sub",b),g=$(".num",b),m=$(".add",b);g.on("paste",e),g.on("copy",e),g.on("cut",e);var y=parseInt($("#avaibleQty").val()||0),h="/mobile/region/regionTree.html?pid=2345",j=(new junRegion({requestOnlyOne:!0,provinceUrl:h,provinceSel:v,citySel:p,areaSel:d,dataKey:"data",key:"name",value:"id",provinceChangeCallback:function(){r(!1,!0)},cityChangeCallback:function(){r(!1,!0)},areaChangeCallback:function(e){e=parseInt(e),e&&"0"!=e&&(a(),i(function(e){var t=parseInt(e.data.avaibleQty);y=t;var n=parseInt(g.val());r(t>=n)})),r(!1)},initData:n(),ajaxFun:$.ajax}),s("noStockPlaceOrder"));g.bind("keydown",function(e){e.preventDefault()}),EventObj.tapClick(function(){var e=g.val();e=/^[1-9]\d*$/.test(e)?e:0;var t=parseInt(e);1>=t||(g.val(--t),o(t))},f[0]),EventObj.tapClick(function(){var e=g.val();e=/^[1-9]\d*$/.test(e)?e:0;var t=parseInt(e);g.val(++t),o(t)},m[0]),EventObj.tapClick(function(e){if(!$(e).hasClass("Disabled")){var t="/mobile/order/toSubmit.html",n=$("#productId").val(),a=g.val();n&&a&&openPage(t,"post",{productId:n,num:a})}},s("submitBtn")),o(1),l(),c(".showPricelb")};