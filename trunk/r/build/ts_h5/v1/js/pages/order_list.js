HTMLElement.prototype.appendHTML=function(e){var n=document.createElement("div"),t=null,r=document.createDocumentFragment();n.innerHTML=e,t=n.childNodes;for(var o=0,i=t.length;i>o;o+=1)r.appendChild(t[o].cloneNode(!0));this.appendChild(r),t=null,r=null},!function(){function e(e){window.location.href=e}function n(e){window.location.href="/mobile/order/orderProduct.html?orderSn="+e}function t(e){$.ajax({type:"GET",url:"/mobile/order/cancelOrder.html",dataType:"json",data:{orderSn:e},cache:!1,success:function(e){layer.open(1==e.success?{content:"取消订单成功",btn:["确认"],yes:function(){window.location.href="/mobile/order/orderList.html"}}:{content:e.message,btn:["确认"]})}})}function r(e){layer.open({content:"是否取消订单【"+e+"】",btn:["确认","取消"],shadeClose:!1,yes:function(){t(e)},no:function(){}})}function o(e,n){$.ajax({url:d.orderQuery.url,type:d.orderQuery.type,dataType:"json",data:e,success:function(e){e.success&&n&&n(e)},error:function(e){console.log(e)}})}function i(e,n,t){var r=document.getElementById(n).innerHTML,o=_.template(r),i=o(e);t.appendHTML(i)}function c(e){var n=parseFloat(e),t=n.toFixed(2).split(".")[1],r=parseInt(n).toString(),o=r.split("").reverse().join("").replace(/(\d{3})/g,"$1,").replace(/\,$/,"").split("").reverse().join("");return"&yen;"+o+"."+t}function l(e){for(var n=document.querySelectorAll(e),t=0,r=n.length;r>t;t++){var o=n[t],i=o.getAttribute("data-value");if(i){var l=c(i);o.innerHTML=l}}}var a=document.querySelector(".container");if(a){var d={orderQuery:{url:"/mobile/order/orderListJson.html",type:"get"}},u=0,s=2,p=parseInt($("#orderCount").val()||0);EventObj.tapClick(function(t,o){var i=$(o.target),c=i.closest(".order"),l=c.attr("orderId"),a=c.attr("payUrl");if(i.is(".btn.btn-line"))return i.is(".paymentOrderBtn")?void e(a):i.is(".trackOrderBtn")?void n(l):i.is(".cancelOrderBtn")?void r(l):void 0},a);var f=document.body,m=document.documentElement,h=!0;window.onscroll=function(){if(h){var e=Math.max(f.clientHeight,m.clientHeight),n=Math.max(f.scrollTop,m.scrollTop),t=Math.max(f.scrollHeight,m.scrollHeight);if(e+n==t){var r=$(".container .order").length;if(p>r){var c={pageSize:s,pageIndex:u+1};o(c,function(e){i(e,"order_list_template",a),h=!0,u++})}}}},window.onscroll(),window.resetPrice=c,l(".showPricelb")}}();