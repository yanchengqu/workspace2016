!function(e,t){function a(e,a,s){this.elem=e,this.className=s,this.direction=a,this.main=t("#J_main"),this.drawer=t("#J_drawer"),this.leftDrawer=t("#J_drawerLeft"),this.rightDrawer=t("#J_drawerRight"),this.navItems=t(".nav .nav__item"),this.enableLock=!1,this.isOpen=!1,this.maskLayer=t('<div class="mask-layer" style="margin-top: 2.4rem"></div'),this.addEvent()}var s="lock-screen",r={"-webkit-transition":"all  0.5s 0.2s ease","-moz-transition":"all   0.5s 0.2s ease","-ms-transition":"all   0.5s 0.2s ease","-o-transition":"all   0.5s 0.2s ease",transition:"all   0.5s 0.2s ease"};a.prototype.constructor=a,a.prototype.addMaskLayer=function(){var e=this;e.main.append(e.maskLayer)},a.prototype.removeMaskLayer=function(){var e=this;e.maskLayer.remove()},a.prototype.addScrollEffect=function(){e.IScroll&&(new IScroll("#J_drawerLeft",{mouseWheel:!0,interactiveScrollbars:!0,shrinkScrollbars:"scale",fadeScrollbars:!0,click:!0}),new IScroll("#J_drawerRight",{mouseWheel:!0,interactiveScrollbars:!0,shrinkScrollbars:"scale",fadeScrollbars:!0,click:!0}))},a.prototype.addAnimation=function(){var e=this;e.main.css(r).css("left","0"),e.drawer.css(r).css("left","0")},a.prototype.lockScreen=function(){var e=this;document.addEventListener("touchmove",function(t){e.enableLock&&t.preventDefault()},!1)},a.prototype.addLock=function(){this.enableLock=!0,t("body").addClass(s)},a.prototype.removeLock=function(){this.enableLock=!1,setTimeout(function(){t("body").removeClass(s)},700)},a.prototype.swipeLeft=function(){var e=this;e.leftDrawer.hide(),e.rightDrawer.show();var t=-1*this.rightDrawer.width()+"px";e.isOpen||(e.isOpen=!0,e.addLock()||e.addMaskLayer(),e.main.css("left",t))},a.prototype.swipeRight=function(){var e=this;e.leftDrawer.show(),e.rightDrawer.hide();var t=e.leftDrawer.width()+"px";e.isOpen||(e.isOpen=!0,e.addLock()||e.addMaskLayer(),e.main.css("left",t))},a.prototype.recovery=function(){var e=this;e.removeLock()||e.removeMaskLayer()||(e.isOpen=!1),e.main.css("left",0)},a.prototype.addEvent=function(){var a=this;a.addScrollEffect()||a.addAnimation()||a.lockScreen(),"left"==a.direction?t(a.elem).on("click",function(e){e.stopPropagation(),a.isOpen?a.recovery():a.swipeLeft(),a.className&&t(this).parent().toggleClass(a.className)}):t(a.elem).on("click",function(s){return e.closeComment?void delete e.closeComment:(s.stopPropagation(),a.isOpen?a.recovery():a.swipeRight(),void(a.className&&t(this).parent().toggleClass(a.className)))}),a.main.on("click",function(){a.isOpen&&(t(a.elem).parent().toggleClass(a.className),a.recovery())}),a.navItems.on("click",function(){a.navItems.removeClass("active"),t(this).addClass("active")})},t.fn.drawer=function(e,s){return this.each(function(){var r=t(this),i=r.data("drawer");i||r.data("drawer",i=new a(this,e,s))})},t(function(){t("#J_switch").drawer("right","nav-toggle")})}(this,this.$);